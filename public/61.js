(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1964:function(a,e,t){"use strict";t.r(e);var r=t(16),s=t(117),n=t.n(s),o={name:"ProfileEdit",mounted:function(){r.c.index(),this.actualInfo()},data:function(){return{user:{fname:"",lname:"",name:"",username:"",email:"",password:"",address1:"",address2:"",company_name:"",profile_image:t(274),mobile_no:"",country:"",state:"",city:"",pincode:"",role:"",gender:"",dob:"",url:""},currentPassword:"",countries:[{value:"Canada",text:"Canada"},{value:"Niada",text:"Niada"},{value:"USA",text:"USA"},{value:"India",text:"India"},{value:"Africa",text:"Africa"}],states:[{value:"California",text:"California"},{value:"Florida",text:"Florida"},{value:"Georgia",text:"Georgia"},{value:"Connecticut",text:"Connecticut"},{value:"Louisiana",text:"Louisiana"}]}},methods:{onSubmit:function(){this.user.name=this.user.fname+" "+this.user.lname,this.$firestoreRefs.user.update(this.user).then((function(){r.c.showSnackbar("success","User has been added successfully.")})),this.$router.replace("/user/user-list")},previewImage:function(a){var e=this,t=a.target;if(t.files&&t.files[0]){var r=new FileReader;r.onload=function(a){e.user.profile_image=a.target.result},r.readAsDataURL(t.files[0])}},changePassword:function(){},saveData:function(){var a={name:this.user.name,email:this.user.email},e=JSON.parse(localStorage.getItem("user"));n.a.put("/api/auth/update/"+e.id,a,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(a){console.log("user updated:",a.data),localStorage.setItem("user",JSON.stringify(a.data.user))})).catch((function(a){console.error("Error creating reparation:",a)}))},savePassword:function(){var a={password:this.user.password},e=JSON.parse(localStorage.getItem("user"));n.a.put("/api/auth/update/"+e.id,a).then((function(a){console.log("user updated:",a.data)})).catch((function(a){console.error("Error creating reparation:",a)}))},actualInfo:function(){this.user.name=JSON.parse(localStorage.getItem("user")).name,this.user.email=JSON.parse(localStorage.getItem("user")).email}}},i=t(8),l=Object(i.a)(o,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("b-container",{attrs:{fluid:""}},[t("ValidationObserver",{scopedSlots:a._u([{key:"default",fn:function(e){var r=e.handleSubmit;return[t("form",{on:{submit:function(e){return e.preventDefault(),r(a.onSubmit)}}},[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("iq-card",{attrs:{"body-class":"p-0"},scopedSlots:a._u([{key:"body",fn:function(){return[t("div",{staticClass:"iq-edit-list"},[t("tab-nav",{staticClass:"iq-edit-profile d-flex",attrs:{pills:!0}},[t("tab-nav-items",{staticClass:"col-md-3 p-0",attrs:{active:!0,href:"#personal-information",title:"Información personal"}}),a._v(" "),t("tab-nav-items",{staticClass:"col-md-3 p-0",attrs:{active:!1,href:"#chang-pwd",title:"Cambiar contraseña"}})],1)],1)]},proxy:!0}],null,!0)})],1),a._v(" "),t("b-col",{attrs:{lg:"12"}},[t("div",{staticClass:"iq-edit-list-data"},[t("tab-content",{attrs:{id:"pills-tabContent-2"}},[t("tab-content-item",{attrs:{active:!0,id:"personal-information"}},[t("iq-card",{scopedSlots:a._u([{key:"headerTitle",fn:function(){return[t("h4",{staticClass:"card-title"},[a._v("Información personal")])]},proxy:!0},{key:"body",fn:function(){return[t("b-row",{attrs:{"align-v":"center"}},[t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Nombre completo","label-for":"fname"}},[t("ValidationProvider",{attrs:{name:"Nombre completo",rules:"required"},scopedSlots:a._u([{key:"default",fn:function(e){var r=e.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"First Name"},model:{value:a.user.name,callback:function(e){a.$set(a.user,"name",e)},expression:"user.name"}}),a._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(r[0]))])])]}}],null,!0)})],1),a._v(" "),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Email","label-for":"uname"}},[t("ValidationProvider",{attrs:{name:"User name",rules:"required"},scopedSlots:a._u([{key:"default",fn:function(e){var r=e.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"email",placeholder:"Email"},model:{value:a.user.email,callback:function(e){a.$set(a.user,"email",e)},expression:"user.email"}}),a._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(r[0]))])])]}}],null,!0)})],1)],1),a._v(" "),t("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"},on:{click:a.saveData}},[a._v("Guardar")])]},proxy:!0}],null,!0)})],1),a._v(" "),t("tab-content-item",{attrs:{active:!1,id:"chang-pwd"}},[t("iq-card",{scopedSlots:a._u([{key:"headerTitle",fn:function(){return[t("h4",{staticClass:"card-title"},[a._v("Cambiar contraseña")])]},proxy:!0},{key:"body",fn:function(){return[t("b-form-group",[t("label",{attrs:{for:"cpass"}},[a._v("Contraseña actual:")]),a._v(" "),t("b-form-input",{attrs:{type:"password",id:"cpass"},on:{focusout:function(e){return a.changePassword()}},model:{value:a.currentPassword,callback:function(e){a.currentPassword=e},expression:"currentPassword"}})],1),a._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Nueva contraseña:","label-for":"pass"}},[t("ValidationProvider",{attrs:{name:"Password",rules:"confirmed:repeat_password"},scopedSlots:a._u([{key:"default",fn:function(e){var r=e.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"password",placeholder:"Contraseña"},model:{value:a.user.password,callback:function(e){a.$set(a.user,"password",e)},expression:"user.password"}}),a._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(r[0]))])])]}}],null,!0)})],1),a._v(" "),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Repita la contraseña:","label-for":"rpass"}},[t("ValidationProvider",{attrs:{vid:"repeat_password",name:"Repeat Password",rules:"required"},scopedSlots:a._u([{key:"default",fn:function(e){var r=e.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"password",placeholder:"Repetir contraseña"},model:{value:a.user.repeat_password,callback:function(e){a.$set(a.user,"repeat_password",e)},expression:"user.repeat_password"}}),a._v(" "),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(r[0]))])])]}}],null,!0)})],1),a._v(" "),t("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"},on:{click:a.savePassword}},[a._v("Guardar")])]},proxy:!0}],null,!0)})],1)],1)],1)])],1)],1)]}}])})],1)}),[],!1,null,null,null);e.default=l.exports},274:function(a,e){a.exports="/images/user-11.png?889f24898432556cb37f2241a522210a"}}]);
//# sourceMappingURL=61.js.map