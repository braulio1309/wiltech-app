(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1897:function(e,r,a){"use strict";a.r(r);var t=a(77),s=a.n(t),i=a(475),n=a(117),o=a.n(n);function l(e,r,a,t,s,i,n){try{var o=e[i](n),l=o.value}catch(e){return void a(e)}o.done?r(l):Promise.resolve(l).then(t,s)}var u={name:"SignUp1Form",components:{SocialLoginForm:i.a},props:["formType"],data:function(){return{user:{email:"",password:"",name:""},error:!1,errorPassword:"",errorEmail:""}},methods:{onSubmit:function(){this.jwtRegister()},jwtRegister:function(){var e,r=this;return(e=s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/auth/register",r.user);case 2:a=e.sent,"Register Successfully"==(t=a.data).message?(r.error=!1,r.$refs.loginLink.click()):(r.error=!0,r.errorPassword=null!=t.errors.password?t.errors.password[0]:"",r.errorEmail=null!=t.errors.email?t.errors.email[0]:"");case 5:case"end":return e.stop()}}),e)})),function(){var r=this,a=arguments;return new Promise((function(t,s){var i=e.apply(r,a);function n(e){l(i,t,s,n,o,"next",e)}function o(e){l(i,t,s,n,o,"throw",e)}n(void 0)}))})()}}},c=a(8),d=Object(c.a)(u,(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(r){var t=r.handleSubmit;return[a("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(r){return r.preventDefault(),t(e.onSubmit)}}},[e.error?a("div",{staticClass:"alert alert-danger"},[e._v("\n     "+e._s(null==e.errorPassword?e.errorPassword:e.errorEmail)+"\n    ")]):e._e(),e._v(" "),a("ValidationProvider",{attrs:{vid:"name",name:"Full Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var t=r.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Nombre completo")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],class:"form-control mb-0"+(t.length>0?" is-invalid":""),attrs:{type:"text",id:"name","aria-describedby":"emailHelp",placeholder:"Nombre completo"},domProps:{value:e.user.name},on:{input:function(r){r.target.composing||e.$set(e.user,"name",r.target.value)}}}),e._v(" "),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(t[0]))])])])]}}],null,!0)}),e._v(" "),a("ValidationProvider",{attrs:{vid:"name",name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var t=r.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Correo eléctronico")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:"form-control mb-0"+(t.length>0?" is-invalid":""),attrs:{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}}),e._v(" "),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(t[0]))])])])]}}],null,!0)}),e._v(" "),a("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var t=r.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0"+(t.length>0?" is-invalid":""),attrs:{type:"password",id:"password",placeholder:"Contraseña"},domProps:{value:e.user.password},on:{input:function(r){r.target.composing||e.$set(e.user,"password",r.target.value)}}}),e._v(" "),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(t[0]))])])])]}}],null,!0)}),e._v(" "),a("div",{staticClass:"d-inline-block w-100"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Registrarse")])]),e._v(" "),a("div",{staticClass:"sign-info"},[a("span",{staticClass:"dark-color d-inline-block line-height-2"},[e._v("\n          ¿Tienes una cuenta?\n          "),a("a",{ref:"loginLink",staticClass:"iq-waves-effect pr-4",attrs:{id:"login",href:"/auth/sign-in1"}},[e._v("\n              Iniciar sesión\n          ")])])])],1)]}}])})}),[],!1,null,null,null).exports,m=a(307),v=a(234),p={name:"SignUp1",components:{SignUp1Form:d},data:function(){return{}},methods:{loginOAuth0:function(){new m.a.WebAuth(v.a.auth0Config).authorize()}}},f=Object(c.a)(p,(function(){var e=this.$createElement,r=this._self._c||e;return r("div",[r("h1",{staticClass:"mb-0"},[this._v("Registrate")]),this._v(" "),r("p",[this._v("Ingresa tus datos para entrar al panel de reparaciones Fixtool.")]),this._v(" "),r("sign-up1-form",{attrs:{formType:"jwt"}})],1)}),[],!1,null,null,null);r.default=f.exports},475:function(e,r,a){"use strict";var t=a(236),s=a.n(t),i={name:"SocialLoginForm",data:function(){return{socialProviders:[{type:"google",icon:"ri-google-line"},{type:"facebook",icon:"ri-facebook-box-line"}]}},methods:{socialLogin:function(e){var r=this,a=new s.a.auth.GoogleAuthProvider;"facebook"===e?a=new s.a.auth.FacebookAuthProvider:"twitter"===e&&(a=new s.a.auth.TwitterAuthProvider),s.a.auth().signInWithPopup(a).then((function(e){var a=s.a.auth().currentUser.providerData[0];r.$store.dispatch("Setting/authUserAction",{auth:!0,authType:"firebase",user:{id:a.uid,name:a.displayName,mobileNo:a.phoneNumber,email:a.email,profileImage:a.photoURL}}),localStorage.setItem("user",JSON.stringify(a)),r.$router.push({name:"dashboard.home-1"})})).catch()}}},n=a(8),o=Object(n.a)(i,(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ul",{staticClass:"iq-social-media"},e._l(e.socialProviders,(function(r,t){return a("li",{key:t},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.socialLogin(r.type)}}},[a("i",{class:r.icon})])])})),0)}),[],!1,null,null,null);r.a=o.exports},77:function(e,r,a){e.exports=a(661)}}]);
//# sourceMappingURL=53.js.map